[gd_scene load_steps=7 format=2]

[ext_resource path="res://scenes/scripts/MainLoader.gd" type="Script" id=1]
[ext_resource path="res://scenes/entities/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://sprites/textures/somewhereold/parallaxback.png" type="Texture" id=3]
[ext_resource path="res://scenes/scripts/ViewportContainer.gd" type="Script" id=4]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform vec4 shadow_color : hint_color = vec4(1.0);
uniform float alpha = 0;

vec3 multiply(vec3 color) {
	return vec3(color.r * shadow_color.r, color.g * shadow_color.g, color.b * shadow_color.b);
}

void fragment() {
	vec3 tex_color = texture(TEXTURE, UV).rgb;
	COLOR = vec4(multiply(tex_color), 1.0);
}

"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/shadow_color = Color( 0.631373, 0.67451, 0.615686, 1 )
shader_param/alpha = 0.0

[node name="ViewportContainer" type="ViewportContainer"]
material = SubResource( 2 )
margin_right = 1920.0
margin_bottom = 1080.0
stretch = true
script = ExtResource( 4 )
__meta__ = {
"_edit_use_anchors_": false
}
white = Color( 1, 1, 1, 1 )
shadow_color = Color( 0.580392, 0.607843, 0.580392, 1 )

[node name="Viewport" type="Viewport" parent="."]
size = Vector2( 384, 216 )
handle_input_locally = false
render_target_update_mode = 3
shadow_atlas_size = 4096

[node name="MainLoader" type="Node2D" parent="Viewport"]
script = ExtResource( 1 )
Player = ExtResource( 2 )

[node name="Tween" type="Tween" parent="Viewport/MainLoader"]

[node name="ParallaxBackground" type="ParallaxBackground" parent="Viewport/MainLoader"]

[node name="ParallaxBack" type="ParallaxLayer" parent="Viewport/MainLoader/ParallaxBackground"]
motion_scale = Vector2( 0.5, 0.5 )
motion_offset = Vector2( 0, -108 )
motion_mirroring = Vector2( 384, 216 )

[node name="Sprite" type="Sprite" parent="Viewport/MainLoader/ParallaxBackground/ParallaxBack"]
texture = ExtResource( 3 )
centered = false

[node name="ParallaxFront" type="ParallaxLayer" parent="Viewport/MainLoader/ParallaxBackground"]
motion_scale = Vector2( 0.4, 0 )
motion_offset = Vector2( 0, -540 )
motion_mirroring = Vector2( 3840, 0 )

[node name="Sprite" type="Sprite" parent="Viewport/MainLoader/ParallaxBackground/ParallaxFront"]
centered = false

[node name="ShadowTween" type="Tween" parent="."]
